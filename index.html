<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KDP Kitchen Masal</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header">
    <div class="brand">
      <div class="logo">KDP</div>
      <div>
        <h1>KDP Kitchen Masal</h1>
        <p>Simpily Better Not the Others</p>
      </div>
    </div>
    <nav class="top-nav">
      <input type="search" id="search" placeholder="Search products..." />
      <button id="cart-btn">Cart (<span id="cart-count">0</span>)</button>
    </nav>
  </header>

  <section class="hero">
    <div class="hero-text">
      <h2>Fresh, Authentic & Premium Masala</h2>
      <p>Shop pure Nepali spices, sourced locally and freshly packed.</p>
      <button class="primary-btn">Explore Products</button>
    </div>
    <img src="https://via.placeholder.com/460x260.png?text=KDPKitchen+Masala" class="hero-img" />
  </section>

  <section class="products">
    <h2>Our Products</h2>
    <div id="product-list" class="product-grid"></div>
  </section>

  <div id="cart-panel" class="cart-panel hidden">
    <h3>Your Cart</h3>
    <div id="cart-items"></div>
    <div class="cart-footer">
      <strong>Total: NPR <span id="cart-total">0</span></strong>
      <button class="primary-btn" onclick="checkout()">Checkout</button>
      <button class="secondary-btn" onclick="clearCart()">Clear Cart</button>
    </div>
  </div>

  <footer class="footer">
    <p>KDP Kitchen Masal © 2025 • All Rights Reserved • Make with ❤️ • Under Development</p>
  </footer>

  <script>
    const PRODUCTS = [
      {id:'001', name:'Garam Masala 100g', price:85, img:'https://via.placeholder.com/300?text=Garam+Masala'},
      {id:'002', name:'Tandoori Masala 150g', price:125, img:'https://via.placeholder.com/300?text=Tandoori+Masala'},
      {id:'003', name:'Chilli Powder 50g', price:41, img:'https://via.placeholder.com/300?text=Chilli+Powder'},
      {id:'004', name:'Curry Powder 120g', price:120, img:'https://via.placeholder.com/300?text=Curry+Powder'},
      {id:'005', name:'Turmeric Powder 100g', price:85, img:'https://via.placeholder.com/300?text=Turmeric'},
      {id:'006', name:'Cumin Seeds 80g', price:60, img:'https://via.placeholder.com/300?text=Cumin'}
    ];

    let cart = JSON.parse(localStorage.getItem('kdp_cart') || '{}');

    function renderProducts(){
      const list = document.getElementById('product-list');
      list.innerHTML = '';

      PRODUCTS.forEach(p => {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <img src="${p.img}" />
          <h3>${p.name}</h3>
          <p class="price">NPR ${p.price}</p>
          <button onclick="addToCart('${p.id}')">Add to Cart</button>
        `;
        list.appendChild(card);
      });
    }

    function addToCart(id){
      cart[id] = (cart[id] || 0) + 1;
      saveCart();
    }

    function saveCart(){
      localStorage.setItem('kdp_cart', JSON.stringify(cart));
      renderCart();
    }

    function renderCart(){
      const items = document.getElementById('cart-items');
      items.innerHTML = '';
      let total = 0;
      let count = 0;

      for(const id in cart){
        const p = PRODUCTS.find(x => x.id === id);
        const qty = cart[id];
        total += p.price * qty;
        count += qty;

        const row = document.createElement('div');
        row.className = 'cart-item';
        row.innerHTML = `
          <img src="${p.img}" />
          <div>
            <strong>${p.name}</strong><br>
            NPR ${p.price} × ${qty}
          </div>
          <button onclick="changeQty('${id}', -1)">-</button>
          <button onclick="changeQty('${id}', 1)">+</button>
        `;
        items.appendChild(row);
      }

      document.getElementById('cart-total').innerText = total;
      document.getElementById('cart-count').innerText = count;
    }

    function changeQty(id, val){
      cart[id] += val;
      if(cart[id] <= 0) delete cart[id];
      saveCart();
    }

    function clearCart(){
      cart = {};
      saveCart();
    }

    function checkout(){
      alert('Checkout under development');
    }

    document.getElementById('cart-btn').onclick = () => {
      document.getElementById('cart-panel').classList.toggle('hidden');
    };

    renderProducts();
    renderCart();
  </script>
</body>
</html>
